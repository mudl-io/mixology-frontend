(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{158:function(e,t,a){},162:function(e,t,a){},164:function(e,t,a){},183:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(1),i=a.n(s),r=a(11),c=a.n(r),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,259)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))},l=a(26),u=(a(158),a(18)),d=a(19),p=a(21),h=a(20),m=a(24),j=a(28),b=(a(162),a(38)),v=Object(b.a)(),g=a(93),f=a(35),O=a(12),x=a.n(O),k=a(17),C=a(251),S=a(255),y=a(258),N=a(29),w=a(52),I=Object(w.b)({name:"ingredients",initialState:[],reducers:{didGetIngredients:function(e,t){e.push.apply(e,Object(N.a)(t.payload))},didCreateIngredient:function(e,t){return[].concat(Object(N.a)(e),[t.payload])}}}),q=I.actions,_=q.didGetIngredients,P=q.didCreateIngredient,M=I.reducer,L=Object(w.b)({name:"liquors",initialState:[],reducers:{didGetLiquors:function(e,t){e.push.apply(e,Object(N.a)(t.payload))},didCreateLiquor:function(e,t){return[].concat(Object(N.a)(e),[t.payload])}}}),B=L.actions,E=B.didGetLiquors,A=B.didCreateLiquor,T=L.reducer,U=Object(w.b)({name:"savedCocktails",initialState:[],reducers:{didGetCocktails:function(e,t){return Object(N.a)(t.payload)},didSaveCocktail:function(e,t){return[].concat(Object(N.a)(e),[t.payload])},didUnsaveCocktail:function(e,t){return e.filter((function(e){return e.publicId!==t.payload}))}}}),D=U.actions,F=D.didGetCocktails,V=D.didSaveCocktail,z=D.didUnsaveCocktail,J=U.reducer,W=(a(164),a(124)),R=a.n(W),G=Object({NODE_ENV:"production",PUBLIC_URL:"/mixology",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_LOCATION||"https://cocktail-app-test.herokuapp.com",H=R.a.create({baseURL:"".concat(G,"/api/"),timeout:5e3,headers:{Authorization:"JWT "+localStorage.getItem("access_token"),"Content-Type":"application/json",accept:"application/json"}});H.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;if(401===e.response.status&&"/token/refresh/"===t.url)return localStorage.removeItem("access_token"),localStorage.removeItem("refesh_token"),localStorage.removeItem("user"),window.location.href="/login/",Promise.reject(e);if(401===e.response.status&&"Unauthorized"===e.response.statusText){var a=localStorage.getItem("refresh_token");return H.post("/token/refresh/",{refresh:a}).then((function(e){return localStorage.setItem("access_token",e.data.access),localStorage.setItem("refresh_token",e.data.refresh),H.defaults.headers.Authorization="JWT "+e.data.access,t.headers.Authorization="JWT "+e.data.access,H(t)})).catch((function(e){console.log(e)}))}return Promise.reject(e)}));var K=H,Y=(a(183),a(0)),Q=a(102),X=function(e){return Object(n.jsx)("div",{onClick:e.handleClick,children:(t=e.isChecked,Object(n.jsx)(Y.b.Provider,{value:{color:"red"},children:Object(n.jsx)("div",{children:t?Object(n.jsx)(Q.a,{size:20}):Object(n.jsx)(Q.b,{size:20})})}))});var t},Z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).showCocktailDetails=function(){if(s.props.name)return s.cocktailDetails(s.props.cocktail)},s.listIngredients=function(){if(s.props.ingredients&&s.props.liquors){var e=[].concat(Object(N.a)(s.props.liquors),Object(N.a)(s.props.ingredients));return Object(n.jsx)("ul",{className:"ingredients-list",children:e.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsxs)("span",{children:[e.name," - ",e.amount," ",e.unit]})},"".concat(e.public_id,"-").concat(e.name))}))})}},s.createdBy=function(){if(s.props.createdBy)return Object(n.jsxs)("span",{className:"complexity stat",children:["Created By: ",s.props.createdBy.username]})},s.getImage=function(){return s.props.image?s.props.image.image:"http://localhost:8000/static/defaultimg.png"},s.cocktailDetails=function(){return Object(n.jsxs)("div",{className:"cocktail-details",children:[Object(n.jsxs)("div",{className:"img-and-stats",children:[Object(n.jsx)("img",{src:s.getImage()}),Object(n.jsx)("h2",{children:s.props.name}),Object(n.jsx)("span",{className:"heart-checkbox",children:Object(n.jsx)(X,{isChecked:s.props.isSaved,handleClick:s.props.toggleSaveCocktail,tabIndex:"0"})}),Object(n.jsxs)("span",{className:"saved stat",children:["Times Saved: ",s.props.timesSaved]}),Object(n.jsxs)("span",{className:"complexity stat",children:["Complexity: ",s.props.complexity,"/10"]}),s.createdBy()]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"header",children:"Description"}),Object(n.jsx)("p",{className:"content",children:s.props.description})]}),Object(n.jsxs)("div",{className:"ingredients-container",children:[Object(n.jsx)("h3",{className:"ingredients header",children:"Ingredients"}),s.listIngredients()]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"header",children:"Instructions"}),Object(n.jsx)("p",{className:"content",children:s.props.instructions})]})]})},s.state={image:""},s}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:this.showCocktailDetails()})}}]),a}(i.a.PureComponent),$=a(25),ee=a(94),te=a(125),ae=a(36),ne=a.n(ae),se=function(e){if(e.length>0)return e.map((function(e){return{value:e,label:ne.a.startCase(e.name)}}))},ie=function(e){return function(e){return e.canCreateNewOptions?Object(n.jsx)(te.a,{styles:{control:function(t){return Object($.a)(Object($.a)({},t),{},{color:"black",borderWidth:"1px",borderColor:e.error?"red":"hsl(0, 0%, 80%)"})},option:function(e){return Object($.a)(Object($.a)({},e),{},{color:"black"})}},name:e.name,options:se(e.options),isMulti:!0,onChange:e.handleSelect(e.optionName)}):Object(n.jsx)(ee.a,{styles:{control:function(t){return Object($.a)(Object($.a)({},t),{},{color:"black",borderWidth:"1px",borderColor:e.error?"red":"hsl(0, 0%, 80%)"})},option:function(e){return Object($.a)(Object($.a)({},e),{},{color:"black"})}},name:e.name,options:se(e.options),isMulti:!0,onChange:e.handleSelect(e.optionName)})}(e)},re=i.a.memo(ie),ce=a(256),oe=(a(191),a(45)),le=(a(192),function(e){var t=e.map((function(e){return e.name}));return Object(n.jsx)("p",{className:"ingredients",children:t.join(", ")})}),ue=function(e){return Object(n.jsxs)(oe.a,{className:"cocktail-detail",to:"/cocktail/".concat(e.cocktail.publicId,"/"),target:"_blank",children:[Object(n.jsx)("img",{src:"http://localhost:8000/static/defaultimg.png"}),Object(n.jsx)("div",{className:"name",children:e.cocktail.name}),Object(n.jsx)("div",{className:"ingredients-list",children:le([].concat(Object(N.a)(e.cocktail.liquors),Object(N.a)(e.cocktail.ingredients)))})]})},de=i.a.memo(ue),pe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).list=function(e){return Object(n.jsx)("div",{className:"cocktails-list",children:e.map((function(e){return Object(n.jsx)(de,{cocktail:e},e.publicId)}))})},s.state={additionalCocktails:[]},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("cocktails/filtered_cocktails/",{params:{liquors_filter:JSON.stringify(this.props.liquors.map((function(e){return e.publicId}))),ingredients_filter:JSON.stringify(this.props.ingredients.map((function(e){return e.publicId})))}});case 3:t=e.sent,this.setState({additionalCocktails:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)(ce.a,{anchor:"right",open:!0,onClose:this.props.toggleShowMoreCocktails,children:this.list(this.state.additionalCocktails)})}}]),a}(i.a.Component),he=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).getCocktail=Object(k.a)(x.a.mark((function e(){var t,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("/cocktails/random_cocktail",{params:{liquors_filter:JSON.stringify(s.state.selectedLiquors.map((function(e){return e.publicId}))),ingredients_filter:JSON.stringify(s.state.selectedIngredients.map((function(e){return e.publicId}))),find_exact_match:s.state.shouldBeExact,hide_user_cocktails:s.state.hideUserCocktails}});case 3:204===(t=e.sent).status?j.NotificationManager.warning("Unfortunately, we were unable to find an exact match for you based on your filters. Try adjusting your filters or checking off the exact match button.","No Cocktail Found",5e3):(a=t.data,n=s.state.selectedIngredients.length>0||s.state.selectedLiquors.length>0,s.setState({cocktail:a,cocktailId:a.publicId,name:a.name,description:a.description,complexity:a.complexity,image:a.image,ingredients:a.ingredients,liquors:a.liquors,instructions:a.instructions,createdBy:a.createdBy,isSaved:a.isSaved,timesSaved:a.timesSaved,canShowMoreCocktails:n,error:""}),K.post("cocktails/viewed_cocktail/",{public_id:a.publicId})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s.setState({error:"Error retrieving cocktails"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),s.toggleSaveCocktail=Object(k.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.props.isSignedIn){e.next=3;break}return j.NotificationManager.warning("Please login or create an account in order to save cocktails!","Cannot Save",3e3),e.abrupt("return");case 3:if(e.prev=3,s.state.isSaved){e.next=11;break}return e.next=7,K.post("/cocktails/save_cocktail/",{public_id:s.state.cocktailId});case 7:s.setState({isSaved:!0,timesSaved:s.state.timesSaved+1}),s.props.dispatch(V(s.state.cocktail)),e.next=15;break;case 11:return e.next=13,K.post("/cocktails/unsave_cocktail/",{public_id:s.state.cocktailId});case 13:s.setState({isSaved:!1,timesSaved:s.state.timesSaved-1}),s.props.dispatch(z(s.state.cocktailId));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])}))),s.showCocktailDetails=function(){return s.state.error?Object(n.jsx)("div",{children:s.state.error}):Object(n.jsx)(Z,{name:s.state.name,description:s.state.description,amtSaved:s.state.amtSaved,complexity:s.state.complexity,image:s.state.image,ingredients:s.state.ingredients,liquors:s.state.liquors,instructions:s.state.instructions,createdBy:s.state.createdBy,isSaved:s.state.isSaved,timesSaved:s.state.timesSaved,toggleSaveCocktail:s.toggleSaveCocktail})},s.showMoreCocktailsOption=function(){if(s.state.canShowMoreCocktails)return Object(n.jsx)("div",{className:"show-more-cocktails-text",onClick:s.toggleShowMoreCocktails,children:"Show more cocktails with these ingredients"})},s.moreCocktailsSidenav=function(){if(s.state.showMoreCocktails)return Object(n.jsx)(pe,{ingredients:s.state.selectedIngredients,liquors:s.state.selectedLiquors,toggleShowMoreCocktails:s.toggleShowMoreCocktails})},s.handleSelect=function(e){return function(t){var a=t.map((function(e){return e.value}));s.setState(Object(f.a)({},e,a))}},s.toggleExactMatch=function(){s.setState({shouldBeExact:!s.state.shouldBeExact})},s.toggleShowUserCocktails=function(){s.setState({hideUserCocktails:!s.state.hideUserCocktails})},s.toggleShowMoreCocktails=function(){s.setState({showMoreCocktails:!s.state.showMoreCocktails})},s.state={name:"",description:"",complexity:0,image:"",error:"",selectedIngredients:[],selectedLiquors:[],shouldBeExact:!1,hideUserCocktails:!1,createdBy:null,isSaved:!1,timesSaved:0,canShowMoreCocktails:!1,showMoreCocktails:!1},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==this.props.ingredientOptions.length||0!==this.props.liquorOptions.length){e.next=10;break}return e.next=4,Promise.all([K.get("/ingredients/"),K.get("/liquors/")]);case 4:t=e.sent,a=Object(g.a)(t,2),n=a[0],s=a[1],this.props.dispatch(_(n.data)),this.props.dispatch(E(s.data));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"homepage-container",children:[Object(n.jsxs)("div",{className:"cocktail-display",children:[this.showCocktailDetails(),Object(n.jsxs)("div",{className:this.state.name.length>0?"cocktail-options active":"cocktail-options inactive",children:[this.showMoreCocktailsOption(),Object(n.jsx)(C.a,{variant:"contained",className:"cocktail-button",onClick:this.getCocktail,children:"Find a random cocktail"}),Object(n.jsxs)("div",{className:"filters",children:[Object(n.jsxs)("div",{className:"filter-dropdown liquors-filter",children:[Object(n.jsx)("div",{className:"input-name",children:"Filter By Liquor:"}),Object(n.jsx)(re,{canCreateNewOptions:!1,name:"Liquors",options:this.props.liquorOptions,optionName:"selectedLiquors",handleSelect:this.handleSelect})]}),Object(n.jsxs)("div",{className:"filter-dropdown ingredients-filter",children:[Object(n.jsx)("div",{className:"input-name",children:"Filter By Ingredient:"}),Object(n.jsx)(re,{canCreateNewOptions:!1,name:"Ingredients",options:this.props.ingredientOptions,optionName:"selectedIngredients",handleSelect:this.handleSelect})]}),Object(n.jsx)("div",{className:"exact-match checkbox",children:Object(n.jsx)(y.a,{placement:"top",title:"Check this box if you want to find a cocktail with exactly your selected ingredients, no more, no less!",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(S.a,{checked:this.state.shouldBeExact,onChange:this.toggleExactMatch}),Object(n.jsx)("span",{className:"checkbox-text",children:"Find Exact Match"})]})})}),Object(n.jsxs)("div",{className:"user-created checkbox",children:[Object(n.jsx)(S.a,{checked:this.state.showUserCocktails,onChange:this.toggleShowUserCocktails}),Object(n.jsx)("span",{className:"checkbox-text",children:"Hide User Created Cocktails"})]})]})]})]}),this.moreCocktailsSidenav()]})}}]),a}(i.a.Component),me=Object(l.b)((function(e){return{liquorOptions:e.liquors,ingredientOptions:e.ingredients}}))(he),je=(a(194),{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null}),be=Object(w.b)({name:"users",initialState:je,reducers:{loginUser:function(e,t){e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},logoutUser:function(e,t){e.user=null,localStorage.removeItem("user")}}}),ve=be.actions,ge=ve.loginUser,fe=ve.logoutUser,Oe=be.reducer,xe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(k.a)(x.a.mark((function e(t){var a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,K.post("/token/obtain/",{username:n.state.username,password:n.state.password});case 4:if(a=e.sent){e.next=8;break}return j.NotificationManager.error("There was an error logging you in. Please make sure your username and password are correct.","Login Error",3e3),e.abrupt("return");case 8:return K.defaults.headers.Authorization="JWT "+a.data.access,localStorage.setItem("access_token",a.data.access),localStorage.setItem("refresh_token",a.data.refresh),s={id:a.data.id,username:a.data.user,email:a.data.email},n.props.dispatch(ge(s)),e.abrupt("return",a);case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",password:""},n}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"login-form-container",children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsxs)("form",{className:"login-form",onSubmit:this.handleSubmit,children:[Object(n.jsxs)("label",{children:[Object(n.jsx)("div",{children:"Username:"}),Object(n.jsx)("input",{name:"username",type:"text",value:this.state.username,onChange:this.handleChange})]}),Object(n.jsxs)("label",{children:[Object(n.jsx)("div",{children:"Password:"}),Object(n.jsx)("input",{name:"password",type:"password",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsx)("input",{className:"signup-submit-button",type:"submit",value:"Submit"})]})]})}}]),a}(i.a.Component),ke=Object(l.b)()(xe),Ce=a(72),Se=a(254),ye=(a(195),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).validateInput=function(){if(!n.state.hasAttemptedSubmit)return!0;var e=n.state.confirmPassword===n.state.password,t=n.state.password.trim().length>7;return e&&t},n.state={username:"",password:"",confirmPassword:"",email:"",hasAttemptedSubmit:!1},n.handleChange=n.handleChange.bind(Object(Ce.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(Ce.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({hasAttemptedSubmit:!0}),e.prev=2,e.next=5,K.post("/user/create/",{username:this.state.username,email:this.state.email,password:this.state.password});case 5:if(207!==(a=e.sent).status){e.next=9;break}return j.NotificationManager.error(a.data,"Signup Error",3e3),e.abrupt("return");case 9:return this.props.dispatch(ge(a.data)),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"signup-form-container",children:[Object(n.jsx)("h1",{children:"Signup"}),Object(n.jsxs)("form",{className:"signup-form",onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{children:Object(n.jsx)(Se.a,{required:!0,className:this.state.passwordError?"invalid":"",label:"Username",name:"username",variant:"outlined",onChange:this.handleChange})}),Object(n.jsx)("label",{children:Object(n.jsx)(Se.a,{required:!0,className:this.state.passwordError?"invalid":"",label:"Email",name:"email",variant:"outlined",onChange:this.handleChange})}),Object(n.jsx)("label",{children:Object(n.jsx)(Se.a,{required:!0,className:this.state.passwordError?"invalid":"",error:!this.validateInput(),helperText:"Please make sure your password is at least 8 characters long.",label:"Password",name:"password",type:"password",variant:"outlined",onChange:this.handleChange})}),Object(n.jsx)("label",{children:Object(n.jsx)(Se.a,{required:!0,className:this.state.confirmPasswordError?"invalid":"",error:!this.validateInput(),label:"Confirm Password",name:"confirmPassword",type:"password",variant:"outlined",onChange:this.handleChange})}),Object(n.jsx)("input",{className:"signup-submit-button",type:"submit",value:"Submit"})]})]})}}]),a}(i.a.Component)),Ne=Object(l.b)()(ye),we=a(253),Ie=a(135),qe=(a(196),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).logout=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.post("/blacklist/",{refresh_token:localStorage.getItem("refresh_token")});case 3:t=e.sent,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),K.defaults.headers.Authorization=null,s.props.dispatch(fe()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])}))),s.leftNavContent=function(){var e;return s.props.user&&(e=Object(n.jsx)("span",{className:"cocktail-options-buttons",children:Object(n.jsx)(oe.a,{className:"nav-link",to:"/create-cocktail/",children:"Create a Cocktail"})})),e},s.rightNavContent=function(){return s.props.user?Object(n.jsxs)(we.a,{className:"user-options-dropdown",variant:"Secondary",title:s.props.user.username,children:[Object(n.jsx)(Ie.a.Item,{children:"Profile"}),Object(n.jsx)(Ie.a.Item,{as:oe.a,to:"/saved-cocktails/",children:"Saved Cocktails"}),Object(n.jsx)(Ie.a.Item,{as:oe.a,to:"/created-cocktails/",children:"Created Cocktails"}),Object(n.jsx)(Ie.a.Divider,{}),Object(n.jsx)(Ie.a.Item,{onClick:s.logout,children:"Logout"})]}):Object(n.jsxs)("span",{className:"login-signup-buttons",children:[Object(n.jsx)(oe.a,{className:"nav-link",to:"/login/",children:"Login"}),Object(n.jsx)(oe.a,{className:"nav-link",to:"/signup/",children:"Sign Up"})]})},s}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"primary-navigation-bar",children:Object(n.jsxs)("nav",{children:[Object(n.jsxs)(oe.a,{className:"nav-link homepage",to:"/",children:[Object(n.jsx)("img",{className:"site-logo-nav",src:"/defaultimg.png"}),Object(n.jsx)("span",{children:"Mixed In"})]}),this.leftNavContent(),this.rightNavContent()]})})}}]),a}(i.a.Component)),_e=Object(l.b)()(qe),Pe=a(133),Me=a.n(Pe),Le=(a(203),a(134)),Be=function(e){return Object(n.jsx)(y.a,{title:e.title,placement:e.placement,children:Object(n.jsx)("span",{className:"help-icon",children:Object(n.jsx)(Le.a,{})})})},Ee=(a(204),function(e,t){return Object(n.jsx)(Se.a,{className:"outlined-select-currency-native",select:!0,label:"Unit",value:e.unit,onChange:t.updateProperty(e.publicId,"unit"),SelectProps:{native:!0},variant:"outlined",children:[{value:"oz",label:"oz"},{value:"dash(es)",label:"dash(es)"},{value:"cup(s)",label:"cup(s)"}].map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.value},e.label)}))})}),Ae=function(e){return Object(n.jsx)("div",{className:"amounts-input-list",children:e.items.map((function(t){return Object(n.jsxs)("div",{className:"amount-input-item",children:[Object(n.jsxs)("span",{className:"item-name",children:[t.name,": "]}),Object(n.jsx)(Se.a,{className:"item-input",label:"Amount",type:"number",value:t.amount,onChange:e.updateProperty(t.publicId,"amount"),InputLabelProps:{shrink:!0},InputProps:{inputProps:{min:e.min,max:e.max,step:"any"}},variant:"outlined"}),Ee(t,e)]},t.publicId)}))})},Te=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).handleChange=function(e){var t,a=0===e.target.value.trim().length,n=e.target.name+"Valid";s.setState((t={},Object(f.a)(t,e.target.name,e.target.value),Object(f.a)(t,n,!a),t))},s.handleSelect=function(e){return function(){var t=Object(k.a)(x.a.mark((function t(a,n){var i,r,c,o,l,u,d;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("create-option"!==n.action){t.next=8;break}return r=ne.a.find(a,{__isNew__:!0}),t.next=4,s.createNewOption(e,r.label);case 4:c=t.sent,o=a.findIndex((function(e){return 1==e.__isNew__})),a[o].value=c,a[o].__isNew__=!1;case 8:l=a.map((function(t){var a=t.value,n=ne.a.find(s.state[e],(function(e){return e.publicId===a.publicId}));return a=n?Object($.a)({},n):Object($.a)(Object($.a)({},a),{},{amount:0,unit:"oz"})})),u=e+"AreValid",d=l.length>0,s.setState((i={},Object(f.a)(i,e,l),Object(f.a)(i,u,d),i));case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},s.createNewOption=function(){var e=Object(k.a)(x.a.mark((function e(t,a){var n,i,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="selectedLiquors"===t?"liquors":"ingredients",e.prev=1,e.next=4,K.post("/".concat(n,"/"),{name:a});case 4:return i=e.sent,r=i.data,"liquors"===n?s.props.dispatch(A(r)):s.props.dispatch(P(r)),j.NotificationManager.success("Successfully created your ingredient!","Creation Success",2e3),e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(1),j.NotificationManager.error("There was an error creating your ingredient. Please try again or refresh the page.","Creation Error",2e3);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),s.handleSelectComplexity=function(e){var t={control:function(e){return Object($.a)(Object($.a)({},e),{},{borderWidth:"1px",borderColor:"hsl(0, 0%, 80%)"})}};s.setState({complexity:e.value,complexityClass:t})},s.updateProperty=function(e,t){return function(a){var n=ne.a.find(s.state.selectedIngredients,(function(t){return t.publicId===e})),i=ne.a.find(s.state.selectedLiquors,(function(t){return t.publicId===e})),r=n||i,c=n?"selectedIngredients":"selectedLiquors";s.setState((function(e){return Object(f.a)({},c,e[c].map((function(e){return e.publicId===r.publicId?Object($.a)(Object($.a)({},r),{},Object(f.a)({},t,a.target.value)):e})))}))}},s.toggleIsPrivate=function(){s.setState({isPrivate:!s.state.isPrivate})},s.handleSubmit=function(){var e=Object(k.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),!0,e.prev=3,e.next=6,K.post("/cocktails/",{name:s.state.cocktailName,description:s.state.description,complexity:s.state.complexity,instructions:s.state.instructions,liquors:s.state.selectedLiquors,ingredients:s.state.selectedIngredients,isPrivate:s.state.isPrivate});case 6:a=e.sent,s.uploadCocktailImage(a.data),j.NotificationManager.success('Your cocktail was successfully created! You can now view this in the "Created Cocktails" section in your profile.',"Cocktail Submitted",2e3),setTimeout((function(){s.setState({submittedForm:!0})}),2e3),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(3),j.NotificationManager.error("There was an error creating your cocktail, please try resubmitting or refreshing the page.","Creation Error",2e3),e.t0;case 16:return e.prev=16,e.abrupt("return",a);case 19:e.next=22;break;case 21:s.state.errorMessageActive||(s.setState({errorMessageActive:!0}),j.NotificationManager.error("Please fill out all required inputs in order to create your cocktail","Invalid Input",2e3,(function(){return s.setState({errorMessageActive:!1})})),setTimeout((function(){s.setState({errorMessageActive:!1})}),2e3));case 22:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),s.complexityOptions=function(){return Object(N.a)(Array(10).keys()).map((function(e){return{value:1+e,label:1+e}}))},s.validateForm=function(){var e=s.state.cocktailName.trim().length>0,t=s.state.selectedIngredients.length>0,a=s.state.selectedLiquors.length>0,n=s.state.instructions.trim().length>0,i=s.state.complexity>0,r=e&&t&&a&&i&&n;if(!r){var c={control:function(e){return Object($.a)(Object($.a)({},e),{},{borderWidth:s.state.complexity>0?"1px":"2px",borderColor:s.state.complexity>0?"hsl(0, 0%, 80%)":"red"})}};s.setState({cocktailNameValid:e,instructionsValid:n,selectedIngredientsAreValid:s.state.selectedIngredients.length>0,selectedLiquorsAreValid:s.state.selectedLiquors.length>0,complexityClass:c})}return r},s.shouldRedirect=function(){if(s.state.submittedForm)return Object(n.jsx)(m.a,{to:{pathname:"/"}})},s.onUploadImage=function(e){s.setState({cocktailImg:e[0]})},s.uploadCocktailImage=function(){var e=Object(k.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("image",s.state.cocktailImg),a.append("name",s.state.cocktailImg.name),a.append("cocktail_id",t.publicId),K.defaults.headers["Content-Type"]="multipart/form-data",e.prev=5,e.next=8,K.post("/cocktail_images/",a);case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:return e.prev=15,K.defaults.headers["Content-Type"]="application/json",e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),s.state={cocktailName:"",cocktailImg:null,description:"",complexity:0,instructions:"",selectedIngredients:[],selectedLiquors:[],isPrivate:!1,cocktailNameValid:!0,selectedLiquorsAreValid:!0,selectedIngredientsAreValid:!0,complexityClass:{},instructionsValid:!0,submittedForm:!1,errorMessageActive:!1},s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==this.props.ingredientOptions.length||0!==this.props.liquorOptions.length){e.next=10;break}return e.next=4,Promise.all([K.get("/ingredients/"),K.get("/liquors/")]);case 4:t=e.sent,a=Object(g.a)(t,2),n=a[0],s=a[1],this.props.dispatch(_(n.data)),this.props.dispatch(E(s.data));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"create-cocktail-container",children:[Object(n.jsxs)("form",{className:"create-cocktail-form",onSubmit:this.handleSubmit,children:[Object(n.jsxs)("label",{className:"cocktail-name-input",children:[Object(n.jsx)("div",{className:"input-name",children:"Name*:"}),Object(n.jsx)("input",{name:"cocktailName",className:this.state.cocktailNameValid?"":"invalid",type:"text",value:this.state.cocktailName,onChange:this.handleChange})]}),Object(n.jsxs)("label",{className:"dropdown-select",children:[Object(n.jsx)("div",{className:"input-name",children:"Liquors*:"}),Object(n.jsx)(re,{canCreateNewOptions:!0,name:"Liquors",options:this.props.liquorOptions,optionName:"selectedLiquors",error:!this.state.selectedLiquorsAreValid,handleSelect:this.handleSelect})]}),Object(n.jsx)("div",{className:"liquor-amounts",children:Object(n.jsx)(Ae,{items:this.state.selectedLiquors,min:0,max:10,updateProperty:this.updateProperty})}),Object(n.jsxs)("label",{className:"dropdown-select",children:[Object(n.jsx)("div",{className:"input-name",children:"Ingredients*:"}),Object(n.jsx)(re,{canCreateNewOptions:!0,name:"Ingredients",options:this.props.ingredientOptions,optionName:"selectedIngredients",error:!this.state.selectedIngredientsAreValid,handleSelect:this.handleSelect})]}),Object(n.jsx)("div",{className:"ingredient-amounts",children:Object(n.jsx)(Ae,{items:this.state.selectedIngredients,min:0,max:10,updateProperty:this.updateProperty})}),Object(n.jsxs)("label",{className:"input-text-area",children:[Object(n.jsx)("div",{className:"input-name",children:"Instructions*:"}),Object(n.jsx)("textarea",{name:"instructions",className:this.state.instructionsValid?"":"invalid",type:"textarea",value:this.state.instructions,onChange:this.handleChange})]}),Object(n.jsxs)("label",{className:"input-text-area",children:[Object(n.jsx)("div",{className:"input-name",children:"Description:"}),Object(n.jsx)("textarea",{name:"description",type:"textarea",value:this.state.description,onChange:this.handleChange})]}),Object(n.jsxs)("label",{className:"dropdown-select complexity",children:[Object(n.jsx)("div",{className:"input-name",children:"Complexity*:"}),Object(n.jsx)(ee.a,{styles:this.state.complexityClass,name:"Complexity",options:this.complexityOptions(),onChange:this.handleSelectComplexity}),Object(n.jsx)(Be,{title:"A measure of how hard this drink is to make!",placement:"top"})]}),Object(n.jsx)(Me.a,{buttonText:"Upload Cocktail Image",onChange:this.onUploadImage,imgExtension:[".jpg",".gif",".png",".gif"],maxFileSize:9999999,singleImage:!0,withIcon:!0,withPreview:!0}),Object(n.jsxs)("div",{className:"private-cocktail-checkbox",children:[Object(n.jsx)(S.a,{checked:this.state.isPrivate,onChange:this.toggleIsPrivate}),Object(n.jsx)("span",{className:"checkbox-text",children:"Make private"})]}),Object(n.jsx)("input",{className:"create-cocktail-submit-button",type:"submit",value:"Create Cocktail"})]}),this.shouldRedirect()]})}}]),a}(i.a.Component),Ue=Object(l.b)((function(e){var t=e.liquors,a=e.ingredients;return{liquorOptions:ne.a.sortBy(ne.a.uniqBy(t,"name"),"name"),ingredientOptions:ne.a.sortBy(ne.a.uniqBy(a,"name"),"name")}}))(Te),De=(a(205),a(206),function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:e.title}),(t=e.cocktails,Object(n.jsx)("div",{className:"cocktails-list",children:t.map((function(e){return Object(n.jsx)(de,{cocktail:e},e.publicId)}))}))]});var t}),Fe=i.a.memo(De),Ve=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.get("/cocktails/saved_cocktails");case 2:t=e.sent,this.props.dispatch(F(t.data));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)("div",{className:"saved-cocktail-display",children:Object(n.jsx)(Fe,{title:"Saved Cocktails",cocktails:ne.a.sortBy(this.props.savedCocktails,["name"])})})}}]),a}(i.a.Component),ze=Object(l.b)((function(e){return{savedCocktails:e.savedCocktails}}))(Ve),Je=(a(207),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={createdCocktails:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.get("/cocktails/created_cocktails");case 3:t=e.sent,this.setState({createdCocktails:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.NotificationManager.error("Please try refreshing the page","Error retrieving created cocktails",5e3);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)("div",{className:"created-cocktail-display",children:Object(n.jsx)(Fe,{title:"Created Cocktails",cocktails:ne.a.sortBy(this.state.createdCocktails,["name"])})})}}]),a}(i.a.Component)),We=(a(208),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleSaveCocktail=Object(k.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.state.isSaved){e.next=8;break}return e.next=4,K.post("/cocktails/save_cocktail/",{public_id:n.state.cocktailId});case 4:n.setState({isSaved:!0,timesSaved:n.state.timesSaved+1}),n.props.dispatch(V(n.state.cocktail)),e.next=12;break;case 8:return e.next=10,K.post("/cocktails/unsave_cocktail/",{public_id:n.state.cocktailId});case 10:n.setState({isSaved:!1,timesSaved:n.state.timesSaved-1}),n.props.dispatch(z(n.state.cocktailId));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.state={name:"",description:"",complexity:0,image:"",liquors:[],ingredients:[],createdBy:null,isSaved:!1,timesSaved:0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params.id,a=this.props.savedCocktails.find((function(e){return e.publicId===t}))){e.next=7;break}return e.next=5,K.get("/cocktails/".concat(t));case 5:a=(a=e.sent).data;case 7:this.setState({cocktail:a,cocktailId:t,name:a.name,description:a.description,complexity:a.complexity,image:a.image,createdBy:a.createdBy,instructions:a.instructions,liquors:a.liquors,ingredients:a.ingredients,isSaved:a.isSaved,timesSaved:a.timesSaved});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)("div",{className:"dynamic-cocktail-container",children:Object(n.jsx)(Z,{name:this.state.name,description:this.state.description,complexity:this.state.complexity,image:this.state.image,ingredients:this.state.ingredients,liquors:this.state.liquors,instructions:this.state.instructions,createdBy:this.state.createdBy,isSaved:this.state.isSaved,timesSaved:this.state.timesSaved,toggleSaveCocktail:this.toggleSaveCocktail})})}}]),a}(i.a.Component)),Re=Object(l.b)((function(e){return{savedCocktails:e.savedCocktails}}))(We),Ge=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"app-container",children:[Object(n.jsxs)(m.c,{history:v,children:[Object(n.jsx)(_e,{user:this.props.user}),Object(n.jsxs)(m.d,{children:[Object(n.jsx)(m.b,{exact:!0,path:"/",component:function(){return Object(n.jsx)(me,{isSignedIn:!!e.props.user})}}),Object(n.jsx)(m.b,{exact:!0,path:"/login/",children:this.props.user?Object(n.jsx)(m.a,{to:"/"}):Object(n.jsx)(ke,{})}),Object(n.jsx)(m.b,{exact:!0,path:"/signup/",children:this.props.user?Object(n.jsx)(m.a,{to:"/"}):Object(n.jsx)(Ne,{})}),Object(n.jsx)(m.b,{exact:!0,path:"/create-cocktail/",component:Ue}),Object(n.jsx)(m.b,{exact:!0,path:"/saved-cocktails/",component:ze}),Object(n.jsx)(m.b,{exact:!0,path:"/created-cocktails/",component:Je}),Object(n.jsx)(m.b,{exact:!0,path:"/cocktail/:id",component:Re})]})]}),Object(n.jsx)(j.NotificationContainer,{})]})}}]),a}(i.a.Component),He=Object(l.b)((function(e){return{user:e.users.user}}))(Ge),Ke=a(41),Ye=Object(Ke.c)({users:Oe,liquors:T,ingredients:M,savedCocktails:J}),Qe=Object(w.a)({reducer:Ye});c.a.render(Object(n.jsx)(l.a,{store:Qe,children:Object(n.jsx)(He,{})}),document.getElementById("root")),o()}},[[209,1,2]]]);
//# sourceMappingURL=main.b9b9fed5.chunk.js.map